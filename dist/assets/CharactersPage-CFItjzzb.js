import{c as g,r as I,Z as M,C as z,j as e,a as N}from"./index-BZvSVdN1.js";import{n as b}from"./novelData-BrYMjssW.js";import{B as S,H as C,S as $,s as A}from"./sideCharacters-t7XjmrZk.js";import{M as L}from"./MaskedText-ivPUoXB3.js";const E=g("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),T=g("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),_=g("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),W=g("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),v=g("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),H=g("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),P={point:["zeri","zelo","void","dusk-rain"],zeri:["point","zelo","void","dusk-rain"],zelo:["point","zeri","void","dusk-rain"],void:["point","zeri","zelo","dusk-rain"]},k=(l,h)=>{const x=b.characters.find(t=>t.id===l);if(x){const t=x.translations[h]||x.translations["zh-CN"];return{id:x.id,name:t.name,role:t.role,color:x.themeColor||"text-ash-light",isMain:!0}}const a=A.find(t=>t.id===l);if(a){const t=a.translations[h]||a.translations["zh-CN"];return{id:a.id,name:t.name,role:t.role,color:"text-ash-gray",isMain:!1}}return null},j=l=>l.split(/(\[\[MASK::.*?\]\])/g).map((x,a)=>{if(x.startsWith("[[MASK::")&&x.endsWith("]]")){const t=x.slice(8,-2);return e.jsx(L,{children:t},a)}return x}),w=({centerId:l,language:h,onSelect:x,isLightTheme:a})=>{const t=P[l]||[];if(t.length===0)return null;const f=k(l,h);if(!f)return null;const p=800,s=p/2,r=280;return e.jsxs("div",{className:"w-full h-full relative flex flex-col",children:[e.jsxs("div",{className:"absolute top-4 left-4 z-10 text-xs font-bold uppercase flex items-center gap-2 text-ash-gray/70 bg-ash-black/50 px-2 py-1 border border-ash-gray/30",children:[e.jsx(T,{size:14}),h==="en"?"Neural_Network":"人际关系拓扑"]}),e.jsxs("div",{className:"flex-1 min-h-0 flex items-center justify-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[size:40px_40px] pointer-events-none"}),e.jsxs("svg",{viewBox:`0 0 ${p} ${p}`,className:"w-full h-full max-w-[90%] max-h-[90%] overflow-visible drop-shadow-2xl",children:[t.map((m,n)=>{const i=n*2*Math.PI/t.length-Math.PI/2,o=s+r*Math.cos(i),d=s+r*Math.sin(i),c=m==="dusk-rain";return e.jsxs("g",{children:[e.jsx("line",{x1:s,y1:s,x2:o,y2:d,stroke:"currentColor",strokeOpacity:c?"0.15":"0.2",strokeWidth:c?"1":"2",strokeDasharray:c?"8,6":"none",className:"text-ash-gray"}),c?e.jsx("text",{x:s+(o-s)*.5,y:s+(d-s)*.5,fill:"currentColor",textAnchor:"middle",dy:"0.3em",className:"text-[10px] text-ash-gray font-mono opacity-50",children:"×"}):e.jsx("circle",{cx:s+(o-s)*.5,cy:s+(d-s)*.5,r:"3",className:"text-ash-gray fill-ash-black stroke-2 stroke-current"})]},`line-${m}`)}),e.jsxs("g",{className:"filter drop-shadow-xl",children:[e.jsx("circle",{cx:s,cy:s,r:"70",className:`${f.color} fill-current opacity-10 animate-pulse`}),e.jsx("circle",{cx:s,cy:s,r:"55",className:"fill-ash-black stroke-[4px] stroke-current text-ash-gray"}),e.jsx("text",{x:s,y:s,dy:"0.35em",textAnchor:"middle",className:`text-[28px] font-mono font-black uppercase ${f.color} fill-current pointer-events-none select-none`,children:f.name.substring(0,1)})]}),t.map((m,n)=>{const i=n*2*Math.PI/t.length-Math.PI/2,o=s+r*Math.cos(i),d=s+r*Math.sin(i),c=k(m,h),y=m==="dusk-rain";return c?e.jsxs("g",{onClick:u=>{u.stopPropagation(),c.isMain&&x(m)},className:`transition-all duration-300 ${c.isMain?"cursor-pointer hover:scale-110":"cursor-default opacity-90"} ${y?"grayscale":""}`,children:[e.jsx("circle",{cx:o,cy:d,r:"40",className:`${c.color} fill-current ${y?"opacity-[0.03]":"opacity-10"}`}),e.jsx("circle",{cx:o,cy:d,r:"32",className:`fill-ash-black stroke-2 stroke-current ${c.color} ${y?"stroke-dashed opacity-50":""}`,strokeDasharray:y?"4,4":"none"}),y?e.jsxs(e.Fragment,{children:[e.jsx("path",{d:`M${o-10} ${d-10} L${o+10} ${d+10} M${o+10} ${d-10} L${o-10} ${d+10}`,stroke:"currentColor",strokeWidth:"1.5",className:`${c.color} opacity-40`}),e.jsx("text",{x:o,y:d,dy:"0.3em",textAnchor:"middle",className:`text-[8px] font-mono font-bold uppercase ${c.color} fill-current select-none opacity-70`,children:"OFFLINE"}),e.jsx("text",{x:o,y:d+48,dy:"0.3em",textAnchor:"middle",className:`text-[12px] font-mono font-bold uppercase ${c.color} fill-current select-none opacity-50 line-through decoration-current`,children:c.name})]}):e.jsxs(e.Fragment,{children:[e.jsx("text",{x:o,y:d,dy:"-0.6em",textAnchor:"middle",className:`text-[14px] font-mono font-bold uppercase ${c.color} fill-current select-none`,children:c.name}),e.jsx("text",{x:o,y:d,dy:"1.4em",textAnchor:"middle",className:"text-[10px] font-mono uppercase fill-ash-gray select-none tracking-tighter",children:c.role})]})]},m):null})]})]}),e.jsxs("div",{className:"absolute bottom-4 right-4 text-[10px] font-mono text-ash-gray/50 text-right",children:["LINK_STATUS: STABLE",e.jsx("br",{}),"NODES: ",t.length+1]})]})},D=({stats:l,colorClass:h})=>{const p=(n,i,o)=>{const d=Math.PI*2*i/o-Math.PI/2,c=n/10*40,y=50+c*Math.cos(d),u=50+c*Math.sin(d);return`${y},${u}`},s=[l.strength,l.intelligence,l.mental,l.resonance,l.agility],r=s.map((n,i)=>p(n,i,5)).join(" "),m=[{label:"STR",x:50,y:5},{label:"INT",x:95,y:35},{label:"MEN",x:80,y:95},{label:"RES",x:20,y:95},{label:"AGI",x:5,y:35}];return e.jsx("div",{className:"relative w-full aspect-square max-w-[180px] xl:max-w-[220px] mx-auto",children:e.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full overflow-visible",children:[[.2,.4,.6,.8,1].map(n=>e.jsx("polygon",{points:Array(5).fill(10*n).map((i,o)=>p(i,o,5)).join(" "),fill:"none",stroke:"var(--ash-gray)",strokeWidth:"0.5",opacity:"0.3"},n)),m.map((n,i)=>e.jsx("line",{x1:50,y1:50,x2:p(10,i,5).split(",")[0],y2:p(10,i,5).split(",")[1],stroke:"var(--ash-gray)",strokeWidth:"0.5",opacity:"0.3"},i)),e.jsx("polygon",{points:r,fill:"currentColor",fillOpacity:"0.2",stroke:"currentColor",strokeWidth:"2",className:h}),s.map((n,i)=>{const[o,d]=p(n,i,5).split(",");return e.jsx("circle",{cx:o,cy:d,r:"1.5",className:`${h} fill-current`},i)}),m.map((n,i)=>e.jsx("text",{x:n.x,y:n.y,textAnchor:"middle",fontSize:"6",fill:"var(--ash-gray)",className:"font-mono font-bold",children:n.label},i))]})})};function F({language:l}){const[h,x]=I.useState(b.characters[0].id),a=b.characters.find(s=>s.id===h)||b.characters[0],t=a.translations[l]||a.translations["zh-CN"],f=s=>{const r=s.toLowerCase();return r.includes("支援")||r.includes("重装")||r.includes("support")||r.includes("heavy")?e.jsx(W,{className:"w-5 h-5"}):r.includes("科研")||r.includes("前线")||r.includes("research")||r.includes("frontline")?e.jsx(N,{className:"w-5 h-5"}):r.includes("？？？")||r.includes("???")?e.jsx($,{className:"w-5 h-5"}):e.jsx(v,{className:"w-5 h-5"})},p=[{label:"STRENGTH",val:a.stats.strength,icon:M},{label:"INTELLIGENCE",val:a.stats.intelligence,icon:S},{label:"AGILITY",val:a.stats.agility,icon:H},{label:"MENTAL",val:a.stats.mental,icon:E},{label:"RESONANCE",val:a.stats.resonance,icon:z}];return e.jsxs("div",{className:"flex flex-col h-full bg-halftone overflow-hidden",children:[e.jsxs("header",{className:"p-4 md:p-6 border-b-2 border-ash-dark bg-ash-black z-20 flex justify-between items-center shrink-0",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-ash-light mb-1 uppercase tracking-tighter flex items-center gap-3",children:[e.jsx(v,{size:24,className:"md:w-6 md:h-6"}),l==="en"?"Personnel_File":"人员档案"]}),e.jsxs("div",{className:"text-[10px] font-mono text-ash-gray flex gap-2",children:[e.jsx("span",{className:"bg-ash-dark px-1",children:"CONFIDENTIAL"}),e.jsx("span",{children:"// AUTH_REQ_LEVEL_5"})]})]}),e.jsx("div",{className:"hidden md:block text-right",children:e.jsx("div",{className:"text-xs text-ash-light font-bold font-mono border border-ash-gray px-2 py-1 inline-block",children:"DB_STATUS: ONLINE"})})]}),e.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden relative",children:[e.jsx("aside",{className:"w-full md:w-64 border-b-2 md:border-b-0 md:border-r-2 border-ash-dark bg-ash-black overflow-x-auto md:overflow-y-auto shrink-0 z-10 flex flex-row md:flex-col no-scrollbar",children:e.jsx("div",{className:"flex flex-row md:flex-col p-2 md:p-4 gap-2 md:gap-3 min-w-max md:min-w-0",children:b.characters.map(s=>{const r=s.translations[l]||s.translations["zh-CN"];return e.jsxs("button",{onClick:()=>x(s.id),className:`w-32 md:w-full text-left p-2 md:p-3 border-2 transition-all relative overflow-hidden group shrink-0 ${h===s.id?"border-ash-light bg-ash-light text-ash-black shadow-hard":"border-ash-gray/30 bg-ash-dark text-ash-gray hover:border-ash-gray hover:text-ash-white"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-1 z-10 relative",children:[e.jsx("span",{className:"font-bold uppercase tracking-wider truncate text-xs md:text-sm",children:r.name}),e.jsx("div",{className:"scale-75 origin-top-right",children:f(r.role)})]}),e.jsx("div",{className:"text-[10px] font-mono opacity-70 z-10 relative truncate",children:j(s.alias||"")}),h===s.id&&e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjZmZmIiBmaWxsLW9wYWNpdHk9IjAuMSIvPgo8L3N2Zz4=')] opacity-50 pointer-events-none"})]},s.id)})})}),e.jsxs("main",{className:"flex-1 flex flex-col xl:flex-row h-full overflow-hidden bg-ash-black",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-8 relative",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 pointer-events-none",children:e.jsx(C,{size:300,strokeWidth:.5})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-black uppercase tracking-tighter text-ash-light mb-2 leading-none",children:t.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 text-xs md:text-sm font-mono text-ash-gray",children:[e.jsx("span",{className:"px-2 py-1 bg-ash-light text-ash-black font-bold uppercase",children:j(a.alias||"")}),e.jsxs("span",{children:[" // ROLE: ",t.role]}),e.jsxs("span",{children:[" // ID: ",a.id.toUpperCase()]})]})]}),t.quote&&e.jsxs("div",{className:"border-l-4 border-ash-light pl-4 py-2 italic text-ash-light/80 font-serif text-base md:text-lg",children:['"',t.quote,'"']}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(s=>e.jsxs("span",{className:"px-3 py-1 border border-ash-gray rounded-full text-xs font-mono hover:bg-ash-light hover:text-ash-black transition-colors cursor-default",children:["#",s]},s))})]}),e.jsxs("div",{className:"w-full lg:w-[280px] bg-ash-dark p-4 border-2 border-ash-gray shadow-hard",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-ash-gray/20 pb-2",children:[e.jsxs("h3",{className:"text-[10px] font-bold uppercase flex items-center gap-2 text-ash-gray",children:[e.jsx(N,{size:12})," ",l==="en"?"Combat_Data":"战斗数据"]}),e.jsxs("div",{className:"text-[10px] font-mono text-ash-gray",children:["SYNC: ",a.stats.resonance*10,"%"]})]}),e.jsx(D,{stats:a.stats,colorClass:a.themeColor||"text-ash-light"}),e.jsx("div",{className:"space-y-2 mt-4",children:p.map(s=>e.jsxs("div",{className:"flex items-center justify-between text-[10px] font-mono",children:[e.jsxs("span",{className:"flex items-center gap-2 text-ash-gray font-bold",children:[e.jsx(s.icon,{size:10})," ",s.label]}),e.jsx("div",{className:"flex gap-[1px]",children:Array(10).fill(0).map((r,m)=>{var n;return e.jsx("div",{className:`w-1 h-2 transition-all duration-300 ${m<s.val?((n=a.themeColor)==null?void 0:n.replace("text-","bg-"))||"bg-ash-light":"bg-ash-black border border-ash-dark"}`},m)})})]},s.label))})]})]}),e.jsxs("div",{className:"bg-ash-dark/20 border-2 border-ash-gray/30 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold uppercase border-b border-ash-gray pb-2 flex items-center gap-2 mb-4 text-ash-light",children:[e.jsx(_,{size:18})," Field Analysis"]}),e.jsx("div",{className:"space-y-4 font-mono text-sm leading-relaxed text-ash-gray/90",children:t.description.map((s,r)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("span",{className:"text-ash-light font-bold shrink-0",children:["[",String(r+1).padStart(2,"0"),"]"]}),e.jsx("p",{children:j(s)})]},r))})]}),e.jsx("div",{className:"xl:hidden h-[400px] bg-ash-dark/30 border-2 border-ash-gray p-4 relative",children:e.jsx(w,{centerId:a.id,language:l,onSelect:x,isLightTheme:!1})})]}),e.jsx("div",{className:"hidden xl:flex w-[45%] 2xl:w-[40%] bg-ash-dark/10 border-l-2 border-ash-dark relative flex-col shadow-[inset_10px_0_20px_rgba(0,0,0,0.2)]",children:e.jsx("div",{className:"flex-1 w-full h-full p-8 overflow-hidden flex items-center justify-center",children:e.jsx(w,{centerId:a.id,language:l,onSelect:x,isLightTheme:!1})})})]},a.id)]})]})}export{F as default};
